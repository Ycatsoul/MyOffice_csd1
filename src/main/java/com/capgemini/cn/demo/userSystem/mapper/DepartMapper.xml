<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.capgemini.cn.demo.userSystem.mapper.DepartMapper">

	<select id="selectAllDepart" resultType="com.capgemini.cn.demo.userSystem.entity.DepartInfo">
		select departinfo.*,branchinfo.branchname from departinfo,branchinfo where departinfo.branchid=branchinfo.branchid
	</select>

	<insert id="insertDepart">
		insert into departinfo(departName,principalUser,connectTelNo,connectMobileTelNo,faxes,branchId) values(#{departName},#{principalUser},#{connectTelNo},#{connectMobileTelNo},#{faxes},#{branchId})
	</insert>

	<update id="updateDepart">
		update departinfo set departName=#{departName},principalUser=#{principalUser},connectTelNo=#{connectTelNo},connectMobileTelNo=#{connectMobileTelNo},faxes=#{faxes},branchId=#{branchId} where departId=#{departId}
	</update>
	<delete id="deleteDepartById">
		delete from departinfo where departId=#{id}
	</delete>
	<delete id="deleteDepartBybranchId">
		delete from departinfo where branchId=#{id}
	</delete>
	<select id="selectAllDepartByBranchId" resultType="com.capgemini.cn.demo.userSystem.entity.DepartInfo">
		select departinfo.*,branchinfo.branchname from departinfo,branchinfo where departinfo.branchid=branchinfo.branchid and departinfo.branchid=#{id}
	</select>

	<!-- 根据departmentId获取Department -->
	<select id="getDepartment" resultType="com.capgemini.cn.demo.userSystem.entity.DepartInfo">
        SELECT * FROM Department WHERE departmentId = #{departmentId}
    </select>
	
	
</mapper>